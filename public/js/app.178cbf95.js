(function(t){function e(e){for(var i,s,n=e[0],l=e[1],u=e[2],v=0,m=[];v<n.length;v++)s=n[v],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],i=!0,n=1;n<o.length;n++){var l=o[n];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=i,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var u=0;u<n.length;u++)e(n[u]);var c=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("header",{attrs:{id:"header"}},[o("div",{staticClass:"inner"},[t._m(0),o("h1",[o("strong",[t._v("Movie App")]),t.isLoggedIn()?t._e():o("li",[o("router-link",{attrs:{to:"/signup"}},[t._v("Signup")])],1),t._v(" | "),t.isLoggedIn()?t._e():o("li",[o("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),t._v(" | "),t.isLoggedIn()?o("li",[o("router-link",{attrs:{to:"/logout"}},[t._v("Logout")])],1):t._e(),t._v(" | "),o("router-link",{attrs:{to:"/movies"}},[t._v("All Movies")]),t._v(" | "),o("router-link",{attrs:{to:"/movies/new"}},[t._v("New Movie")])],1)])]),o("div",{staticClass:"container"},[o("router-view")],1),t._m(1)])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",{staticClass:"image avatar",attrs:{href:"#"}},[o("img",{attrs:{src:"images/avatar.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",{attrs:{id:"footer"}},[o("div",{staticClass:"inner"},[o("ul",{staticClass:"icons"},[o("li",[o("a",{staticClass:"icon brands fa-twitter",attrs:{href:"#"}},[o("span",{staticClass:"label"},[t._v("Twitter")])])]),o("li",[o("a",{staticClass:"icon brands fa-github",attrs:{href:"#"}},[o("span",{staticClass:"label"},[t._v("Github")])])]),o("li",[o("a",{staticClass:"icon brands fa-dribbble",attrs:{href:"#"}},[o("span",{staticClass:"label"},[t._v("Dribbble")])])]),o("li",[o("a",{staticClass:"icon solid fa-envelope",attrs:{href:"#"}},[o("span",{staticClass:"label"},[t._v("Email")])])])]),o("ul",{staticClass:"copyright"})])])}],s={methods:{isLoggedIn:function(){return!!localStorage.getItem("jwt")},getUserId:function(){return localStorage.getItem("user_id")}}},n=s,l=o("2877"),u=Object(l["a"])(n,a,r,!1,null,null,null),c=u.exports,v=o("8c4f"),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("h1",[t._v(t._s(t.message))]),o("h1",[t._v("New Movie")]),o("div",[t._v(" Title: "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newMovieTitle,expression:"newMovieTitle"}],attrs:{type:"text"},domProps:{value:t.newMovieTitle},on:{input:function(e){e.target.composing||(t.newMovieTitle=e.target.value)}}}),o("br"),t._v(" Year: "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newMovieYear,expression:"newMovieYear"}],attrs:{type:"text"},domProps:{value:t.newMovieYear},on:{input:function(e){e.target.composing||(t.newMovieYear=e.target.value)}}}),o("br"),t._v(" Plot: "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newMoviePlot,expression:"newMoviePlot"}],attrs:{type:"text"},domProps:{value:t.newMoviePlot},on:{input:function(e){e.target.composing||(t.newMoviePlot=e.target.value)}}}),o("br"),t._v(" Director: "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newMovieDirector,expression:"newMovieDirector"}],attrs:{type:"text"},domProps:{value:t.newMovieDirector},on:{input:function(e){e.target.composing||(t.newMovieDirector=e.target.value)}}}),o("br"),t._v(" English: "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newMovieEnglish,expression:"newMovieEnglish"}],attrs:{type:"text"},domProps:{value:t.newMovieEnglish},on:{input:function(e){e.target.composing||(t.newMovieEnglish=e.target.value)}}}),o("br"),o("button",{on:{click:function(e){return t.createMovie()}}},[t._v("Add Movie")])]),o("div",t._l(t.movies,(function(e){return o("div",[o("h2",[t._v(t._s(e.title))]),o("h2",[t._v(t._s(e.year))]),o("button",{on:{click:function(t){e.showExtraInfo=!e.showExtraInfo}}},[t._v("More Info")]),e.showExtraInfo?o("div",[o("p",[t._v("Title: "+t._s(e.title))]),o("p",[t._v("Year: "+t._s(e.year))]),o("p",[t._v("Plot: "+t._s(e.plot))]),o("p",[t._v("Director: "+t._s(e.director))]),o("p",[t._v("English: "+t._s(e.english))]),o("div",[t._v(" "+t._s(e)+" "),o("h3",[t._v("Edit Movie")]),t._v(" Title: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"movie.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(o){o.target.composing||t.$set(e,"title",o.target.value)}}}),o("br"),t._v(" Year: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"movie.year"}],attrs:{type:"text"},domProps:{value:e.year},on:{input:function(o){o.target.composing||t.$set(e,"year",o.target.value)}}}),o("br"),t._v(" Plot: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.plot,expression:"movie.plot"}],attrs:{type:"text"},domProps:{value:e.plot},on:{input:function(o){o.target.composing||t.$set(e,"plot",o.target.value)}}}),o("br"),t._v(" Director: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.director,expression:"movie.director"}],attrs:{type:"text"},domProps:{value:e.director},on:{input:function(o){o.target.composing||t.$set(e,"director",o.target.value)}}}),o("br"),t._v(" English: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.english,expression:"movie.english"}],attrs:{type:"text"},domProps:{value:e.english},on:{input:function(o){o.target.composing||t.$set(e,"english",o.target.value)}}}),o("br"),o("button",{on:{click:function(o){return t.updateMovie(e)}}},[t._v("Update")]),o("br"),o("button",{on:{click:function(o){return t.destroyMovie(e)}}},[t._v("Delete")])])]):t._e()])})),0)])},p=[],d=(o("4160"),o("c975"),o("a434"),o("159b"),o("bc3a")),f=o.n(d),g={data:function(){return{message:"",movies:[],newMovieTitle:"",newMovieYear:"",newMoviePlot:"",newMovieDirector:"",newMovieEnglish:null}},created:function(){var t=this;f.a.get("/api/movies").then((function(e){e.data.forEach((function(t){t.showExtraInfo=!1})),console.log(e.data),t.movies=e.data}))},methods:{createMovie:function(){var t=this,e={title:this.newMovieTitle,year:this.newMovieYear,plot:this.newMoviePlot,director:this.newMovieDirector,english:this.newMovieEnglish};f.a.post("/api/movies",e).then((function(e){t.movies.push(e.data),t.newMovieTitle="",t.newMovieYear="",t.newMoviePlot="",t.newMovieDirector="",t.newMovieEnglish=""})).catch((function(t){console.log(t.response.data.errors)}))},updateMovie:function(t){t.title,t.year,t.plot,t.director,t.english;f.a.patch("/api/movies/"+t.id).then((function(t){console.log("Success",t.data)})).catch((function(t){console.log(t.response.data.errors)}))},destroyMovie:function(t){var e=this;f.a.delete("/api/movies/".concat(t.id)).then((function(o){console.log("Success",o.data);var i=e.movies.indexOf(t);e.movies.splice(i,1)}))}}},h=g,_=Object(l["a"])(h,m,p,!1,null,null,null),w=_.exports,b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"about"},[o("h1",[t._v("This is an about page")])])}],C={},x=Object(l["a"])(C,b,y,!1,null,null,null),M=x.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"signup"},[o("div",{staticClass:"container"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[o("h1",[t._v("Signup")]),o("ul",t._l(t.errors,(function(e){return o("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),o("div",{staticClass:"form-group"},[o("label",[t._v("Name:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Email:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Password:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Password confirmation:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),o("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},E=[],$=(o("b0c0"),{data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var t=this,e={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};f.a.post("/api/users",e).then((function(e){t.$router.push("/login")})).catch((function(e){t.errors=e.response.data.errors}))}}}),N=$,j=Object(l["a"])(N,P,E,!1,null,null,null),O=j.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("div",{staticClass:"container"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[o("h1",[t._v("Login")]),o("ul",t._l(t.errors,(function(e){return o("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),o("div",{staticClass:"form-group"},[o("label",[t._v("Email:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Password:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},D=[],T={data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var t=this,e={email:this.email,password:this.password};f.a.post("/api/sessions",e).then((function(e){f.a.defaults.headers.common["Authorization"]="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),t.$router.push("/")})).catch((function(e){t.errors=["Invalid email or password."],t.email="",t.password=""}))}}},I=T,S=Object(l["a"])(I,k,D,!1,null,null,null),Y=S.exports,A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"logout"})},L=[],U={created:function(){delete f.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$router.push("/")}},z=U,B=Object(l["a"])(z,A,L,!1,null,null,null),J=B.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"movies-index"},[o("h1",[t._v("All Movies")]),o("section",{attrs:{id:"two"}},[o("h2",[t._v("Recent Work")]),o("div",{staticClass:"row"},t._l(t.movies,(function(e){return o("article",{staticClass:"col-6 col-12-xsmall work-item"},[o("router-link",{staticClass:"image fit thumb",attrs:{to:"/movies/"+e.id}},[o("img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/en/thumb/d/db/The_Movies_Coverart.jpg/220px-The_Movies_Coverart.jpg",alt:""}})]),o("h3",[t._v("Title: "+t._s(e.title))]),o("p",[t._v("Year: "+t._s(e.year))])],1)})),0)])])},G=[],H={data:function(){return{movies:[]}},created:function(){var t=this;f.a.get("/api/movies").then((function(e){t.movies=e.data,console.log(t.movies)}))},methods:{}},W=H,q=Object(l["a"])(W,R,G,!1,null,null,null),F=q.exports,K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"movies-new"},[o("div",{staticClass:"container"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[o("h1",[t._v("New Movie")]),t.status?o("img",{attrs:{src:"https://http.cat/"+t.status}}):t._e(),o("ul",t._l(t.errors,(function(e){return o("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),o("div",{staticClass:"form-group"},[o("label",[t._v("Title:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Year:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Plot:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.plot,expression:"plot"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.plot},on:{input:function(e){e.target.composing||(t.plot=e.target.value)}}}),t.plot?o("small",{class:{"text-danger":30-t.plot.length<5}},[t._v(" "+t._s(30-t.plot.length)+" characters remaining ")]):t._e()]),o("div",{staticClass:"form-group"},[o("label",[t._v("Director:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.director,expression:"director"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.director},on:{input:function(e){e.target.composing||(t.director=e.target.value)}}})]),o("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Create New"}})])])])},Q=[],V={data:function(){return{title:"",year:"",plot:"",director:"",errors:[]}},methods:{submit:function(){var t=this,e={title:this.title,year:this.year,plot:this.plot,director:this.director};f.a.post("/api/movies",e).then((function(e){t.$router.push("/movies")})).catch((function(e){t.errors=e.response.data.errors}))}}},X=V,Z=Object(l["a"])(X,K,Q,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"movies-show"},[o("div",{staticClass:"text-center"},[o("h1",[t._v(t._s(t.movie.title))])]),t._l(t.movies,(function(e){return o("div",{class:{selected:e===t.currentMovie},on:{click:function(o){t.currentMovie=e}}},[o("h4",[t._v("Director")]),o("p",[t._v(t._s(e.director))])])})),t._v(" movies user id: "+t._s(t.movie.user.id)+" "),o("br"),t._v(" current user id: "+t._s(t.$parent.getUserId())+" "),o("br"),t.movie.user.id==t.$parent.getUserId()?o("router-link",{staticClass:"btn btn-warning",attrs:{to:"/movies/"+t.movie.id+"/edit"}},[t._v(" Edit ")]):t._e()],2)},ot=[],it={data:function(){return{movie:{}}},created:function(){var t=this;f.a.get("/api/movies/".concat(this.$route.params.id)).then((function(e){console.log(e.data),t.movie=e.data}))},methods:{}},at=it,rt=(o("7cf9"),Object(l["a"])(at,et,ot,!1,null,null,null)),st=rt.exports,nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"movies-edit"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[o("h1",[t._v("Edit Movie")]),o("ul",t._l(t.errors,(function(e){return o("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),o("div",{staticClass:"form-group"},[o("label",[t._v("Title:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.title,expression:"movie.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.movie.title},on:{input:function(e){e.target.composing||t.$set(t.movie,"title",e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Year:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.year,expression:"movie.year"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.movie.year},on:{input:function(e){e.target.composing||t.$set(t.movie,"year",e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Director:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.director,expression:"movie.director"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.movie.director},on:{input:function(e){e.target.composing||t.$set(t.movie,"director",e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Plot")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.plot,expression:"movie.plot"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.movie.plot},on:{input:function(e){e.target.composing||t.$set(t.movie,"plot",e.target.value)}}})]),o("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Update Movie"}})]),o("div",[o("button",{on:{click:function(e){return t.destroyMovie()}}},[t._v("Delete Movie")])])])},lt=[],ut={data:function(){return{movie:{},errors:[]}},created:function(){var t=this;f.a.get("/api/movies/".concat(this.$route.params.id)).then((function(e){console.log(e.data),t.movie=e.data}))},methods:{submit:function(){var t=this,e={title:this.movie.title,year:this.movie.year,plot:this.movie.plot,director:this.movie.director};f.a.patch("/api/movies/".concat(this.movie.id),e).then((function(e){t.$router.push("/movies/".concat(t.movie.id))})).catch((function(e){t.errors=e.response.data.errors}))},destroyMovie:function(){var t=this;f.a.delete("/api/movies/".concat(this.movie.id)).then((function(e){console.log("Success",e.data),t.$router.push("/movies")}))}}},ct=ut,vt=Object(l["a"])(ct,nt,lt,!1,null,null,null),mt=vt.exports;i["a"].use(v["a"]);var pt=[{path:"/",name:"Home",component:w},{path:"/about",name:"About",component:M},{path:"/signup",name:"Signup",component:O},{path:"/login",name:"login",component:Y},{path:"/logout",name:"logout",component:J},{path:"/movies",name:"Movies-index",component:F},{path:"/movies/new",name:"Movies-new",component:tt},{path:"/movies/:id",name:"Movies-show",component:st},{path:"/movies/:id/edit",name:"Movies-edit",component:mt}],dt=new v["a"]({mode:"history",base:"/",routes:pt}),ft=dt;f.a.defaults.baseURL="/";var gt=localStorage.getItem("jwt");gt&&(f.a.defaults.headers.common["Authorization"]="Bearer "+gt),i["a"].config.productionTip=!1,new i["a"]({router:ft,render:function(t){return t(c)}}).$mount("#app")},7652:function(t,e,o){},"7cf9":function(t,e,o){"use strict";var i=o("7652"),a=o.n(i);a.a}});
//# sourceMappingURL=app.178cbf95.js.map